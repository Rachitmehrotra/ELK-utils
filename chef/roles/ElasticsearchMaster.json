{
  "name": "ElasticsearchMaster",
  "description": "These hosts act as Elasticsearch master nodes for the ELK cluster",
  "json_class": "Chef::Role",
  "default_attributes": {
    "system": {
        "limits": [
            [ "*", "-", "nproc", "10240" ],
            [ "elasticsearch", "-", "nofile", "512000" ],
            [ "elasticsearch", "-", "memlock", "unlimited" ]
        ],
        "sysctl": {
            "vm.dirty_expire_centisecs": "500"
        }
    },
    "elasticsearch": {
        "java_home": "/usr/java/jdk1.8.0_60",
        "jmx" : "true"
    }
  },
  "chef_type": "role",
  "run_list": [
    "role[Base]",
    "role[Elasticsearch]",
    "recipe[elasticsearch::master_maintenance_tasks]",
    "recipe[elasticsearch::snapshot_clients]",
    "recipe[elasticsearch::snapshots]"
  ],
  "env_run_lists": {
  }
}
